<!doctype html>
<html lang="en-us">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Weather Time Now | Town of Franklin | Forecast and Weather </title>
	<meta name="description" content="Weather Time Now weather when you need it">

	<link rel="stylesheet" href="styles/normalize.css">
	<link rel="stylesheet" href="styles/small.css">
	<link rel="stylesheet" href="styles/medium.css">
	<link rel="stylesheet" href="styles/large.css">

</head>

<body>
	<header>
		<img src="images/Weather-Transparent-Background-279x279.png" alt="logo for weather time now">
		<div class="headertext">
			<h1> Weather Time Now</h1>
			<div class="subheading">Weather when you need it</div>
		</div>
		<div class="currentconditions">
			<img src="images/sun-256.png" alt="Current condition weather icon">
			<p>Sunny</p>
		</div>

		<nav class="clearfix">

			<button onclick="toggleMenu()">&#9776;</button>
			<ul id="primaryNav" class="hide">
				<li><a href="#">Menu</a></li>


				<li><a href="index.html">Home</a></li>

				<li><a href="preston.html">Preston</a></li>
				<li>
					<a href="sodasprings.html">Soda Springs</a></li>
				<li>
					<a href="fishhaven.html">Fish Haven</a></li>
				<li>
					<a href="stormcenter.html">Storm Center</a></li>
				<li><a href="gallery.html">Gallery</a></li>
			</ul>
		</nav>
	</header>

	<main>
	
		<section id="towns">
		</section>
		
		
	


		
	
	<script src="scripts/toggleMenu.js"></script>
	

	
	
	
	<script>
		const requestURL = "https://byui-cit230.github.io/weather/data/towndata.json";
		let request = new XMLHttpRequest();
		request.open('GET', requestURL);
		request.responseType = 'json';
		request.send();


		request.onload = function() {
			let towndata = request.response;
			let towns = towndata['towns'];


			let output = document.getElementById('towns');

			towns.forEach(town => { 
				let towndiv = document.createElement('div');
				towndiv.className="towns";
				let myH3 = document.createElement('h3');
				let theP = document.createElement('p');
				theP.setAttribute('style', 'white-space: pre;');
				myH3.textContent = town.name;
				theP.textContent = "Motto: " + town.motto +"\r\n"; 
				theP.textContent += "Year Founded: " + town.yearFounded +"\r\n"; 
				theP.textContent += "Average Rainfall: " + town.averageRainfall +"\r\n"; 
				towndiv.appendChild(myH3);
				towndiv.appendChild(theP);
				output.appendChild(towndiv);


			});
		};
	</script>
	
	</main>
	<footer>
		
		<section class="footer-bar">&copy;2018 | All Rights Reserved | Weather Time Now | <span id="currentdate">
			</span></section>
			
		
	</footer>
</body>

</html>
